#!/usr/bin/env sh

echo "ğŸ” Running pre-push checks..."

# Run linting
echo "ğŸ“ Checking code style..."
npm run lint || {
  echo "âŒ Linting failed. Please fix the issues before pushing."
  exit 1
}

# Run tests
echo "ğŸ§ª Running tests..."
npm run test:ci || {
  echo "âŒ Tests failed. Please fix the failing tests before pushing."
  exit 1
}

# Build the package
echo "ğŸ”¨ Building package..."
npm run build || {
  echo "âŒ Build failed. Please fix the build issues before pushing."
  exit 1
}

# Check bundle size
echo "ğŸ“¦ Checking bundle size..."
npm run size || {
  echo "âŒ Bundle size check failed. Please optimize the bundle before pushing."
  exit 1
}

echo "âœ… All pre-push checks passed!" 